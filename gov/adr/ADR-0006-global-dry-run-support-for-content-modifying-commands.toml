[govctl]
schema = 1
id = "ADR-0006"
title = "Global dry-run support for content-modifying commands"
status = "accepted"
date = "2026-01-17"

[content]
context = "All content-modifying commands (new, set, add, remove, edit, tick, bump, finalize, advance, accept, deprecate, supersede, move) write files immediately with no way to preview changes. Only render commands support --dry-run. Users and agents need a way to preview what changes will be made before committing to disk, especially for destructive or complex operations."
decision = "Add global -n/--dry-run flag at CLI level. Create WriteOp enum with Preview/Execute variants in write.rs. All write functions accept WriteOp. In Preview mode: serialize, display via ui::dry_run_preview, skip fs::write. Read-only commands ignore the flag."
consequences = "Positive: Unified dry-run UX, follows Unix -n convention, DRY write logic. Negative: Signature changes for write functions. Migration: Update all write callsites to use WriteOp."
