[govctl]
schema = 1
id = "ADR-0013"
title = "Add category field to acceptance criteria for changelog generation"
status = "accepted"
date = "2026-01-17"
refs = ["ADR-0012"]

[content]
context = "Work items track implementation work (features, fixes, refactoring), but lack categorization that maps to Keep a Changelog format. RFC changelog entries already use Keep a Changelog categories (Added, Changed, Deprecated, Removed, Fixed, Security). To generate a repo-level CHANGELOG.md from completed work items, we need the same categorization. Acceptance criteria are the natural atomic unit for changelog entries - each criterion represents one deliverable."
decision = """
Add a `category` field to `ChecklistItem` (acceptance criteria) using the existing `ChangelogCategory` enum (added, changed, deprecated, removed, fixed, security). Default to `added` for backward compatibility. Reuse [[ADR-0012]] prefix parsing: `govctl add WI-xxx acceptance_criteria "fix: memory leak"` parses to `category=fixed`, `text="memory leak"`. This consolidates `ChangelogCategory` from `write.rs` into `model.rs` for reuse across RFC changelogs and work item criteria."""
consequences = "Acceptance criteria can be grouped by category when rendering CHANGELOG.md. Each criterion becomes one changelog entry. Work items can span multiple categories without being split. Existing work items remain valid (criteria default to `added`). Single `ChangelogCategory` enum used for both RFC changelog entries and work item criteria."

[[content.alternatives]]
text = "Add category field to WorkItemMeta (work-item level)"
status = "rejected"

[[content.alternatives]]
text = "Add category field to ChecklistItem (criterion level) with prefix parsing"
status = "accepted"
