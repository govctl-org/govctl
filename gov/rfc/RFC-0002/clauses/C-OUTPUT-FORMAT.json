{
  "clause_id": "C-OUTPUT-FORMAT",
  "title": "Output Format Control",
  "kind": "normative",
  "status": "active",
  "text": "All commands that output resource data MUST support the `--output` (or `-o`) flag with the following format options:\n\n**Required Output Formats:**\n\n1. **`table`** (default for human use)\n   - Formatted tables with headers and aligned columns\n   - MAY use colors when terminal supports them\n   - MUST be readable in plain text (no control codes in non-TTY)\n\n2. **`json`**\n   - Valid JSON output\n   - Pretty-printed with 2-space indentation\n   - MUST be parseable by standard JSON tools\n\n3. **`yaml`**\n   - Valid YAML output\n   - Formatted for readability\n   - MUST be parseable by standard YAML tools\n\n4. **`toml`**\n   - Valid TOML output (native format for ADRs and Work Items)\n   - MUST be parseable by standard TOML tools\n   - Only applicable where TOML is the source format\n\n5. **`plain`**\n   - Plain text values with no formatting\n   - One value per line for lists\n   - Single value (no newline) for scalar fields\n   - Suitable for shell scripting and piping\n\n**Applicability:**\n\nCommands MUST support output formats as follows:\n\n- `get` with no field: table, json, yaml, toml\n- `get` with field: plain (default), json, yaml\n- `list`: table (default), json, yaml\n\nCommands MAY add format-specific flags (e.g., `--format-json-compact`) but MUST NOT remove or change behavior of standard formats.\n\n**Format Selection:**\n\n1. Explicit `--output <format>` takes precedence\n2. If not specified:\n   - For TTY: default is `table`\n   - For non-TTY: default MUST be `json`\n3. Invalid format names MUST error with list of valid formats\n\n**Exceptions:**\n\n`govctl status` is exempt from output format requirements and always produces human-readable tabular output intended for interactive use only.\n\n**Consistency Requirements:**\n\n1. JSON/YAML/TOML output MUST match the internal schema exactly\n2. Table format MAY omit fields for readability but MUST show all critical fields\n3. Plain format MUST output stable, parseable text (no decorations)\n4. Output format MUST NOT affect command semantics (same data, different representation)\n\n**Rationale:**\n\nUniversal output format control enables:\n- Human readability (table)\n- Script automation (json/yaml)\n- Integration with standard tools (jq, yq)\n- Native format editing (toml for ADRs/work items)\n\nThis pattern follows kubectl and Docker conventions where `-o json` works on all read operations.",
  "since": "0.1.0"
}
